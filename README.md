# üåê Pronka.tech ‚Äî DevOps Pet Project

–£—á–µ–±–Ω—ã–π pet-project –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏ CI/CD –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏.  
–ó–∞–¥–∞—á–∞: —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Å–∞–π—Ç-–≤–∏–∑–∏—Ç–∫—É –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –¥–µ–ø–ª–æ–π.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Docker Compose** ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- **GitHub Actions** ‚Äî CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã
- **DockerHub** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
- **Yandex Cloud (Ubuntu 22.04)** ‚Äî —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- **nginx:alpine** ‚Äî –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

---

## ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
1. **Frontend** (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç) ‚Üí –æ–±—ë—Ä–Ω—É—Ç –≤ Docker (`nginx:alpine`).
2. **Docker Compose** –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ:
   ```yaml
   services:
     web:
       image: pronkaq/pronka-site:latest
       restart: unless-stopped
       ports:
         - "80:80"

    CI/CD:

        Build ‚Üí GitHub Actions —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ –∏ –ø—É—à–∏—Ç –≤ DockerHub.

        Deploy ‚Üí GitHub Actions –ø–æ SSH –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

        –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ main.

üîÑ CI/CD Workflow

.github/workflows/dockerhub.yml:

    Build job

        checkout —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

        login –≤ DockerHub

        build & push Docker image

    Deploy job

        –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH (appleboy/ssh-action)

        docker compose pull && docker compose up -d

        –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤ (docker image prune -f)

üñ•Ô∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–ø–ª–æ–π

    –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—É—à–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫—É main.

    GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

     —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ ‚Üí –ø—É—à–∏—Ç –≤ DockerHub

     –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

    –ß–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ IP/–¥–æ–º–µ–Ω—É.

‚úÖ –ß—Ç–æ —è –ø—Ä–æ–∫–∞—á–∞–ª

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏

    –†–∞–±–æ—Ç–∞ —Å Docker –∏ Compose –≤ dev/prod —Å—Ä–µ–¥–µ

    –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions (jobs, needs, secrets)

    –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è –Ω–∞ VPS

    CI/CD –∫–∞–∫ —É ¬´–Ω–∞—Å—Ç–æ—è—â–µ–≥–æ¬ª –ø—Ä–æ–µ–∫—Ç–∞

üìù ToDo (–ø–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è)

–ü–æ–¥–∫–ª—é—á–∏—Ç—å HTTPS (Caddy –∏–ª–∏ Nginx + Let‚Äôs Encrypt)

–î–æ–±–∞–≤–∏—Ç—å staging-–æ–∫—Ä—É–∂–µ–Ω–∏–µ (–æ—Ç–¥–µ–ª—å–Ω—ã–π compose –Ω–∞ –ø–æ—Ä—Ç—É 8081)

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)

–î–æ–±–∞–≤–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä Dockerfile –≤ CI (hadolint)


